以前在Three里写碰撞检测的时候就在想可不可以在Cesium也做一个差不多的模拟游戏人物控制的东西，直到最近才有空写。

简而言之，模拟游戏人物控制有以下几个要求：

1. WASD控制人物行走，空格跳跃。
2. 人物的正方向跟随相机，比如按照W向前走的时候移动相机，人物前进的方向也会随之改变。
3. 模拟重力。



下面记录一些开发的时候比较有意思的地方：

与Three不同，Cesium是一个GIS框架，尽可能的模拟了真实世界。所以Cesium中的坐标系统处理起来比Three麻烦的多，好在Cesium本身的transform足够优秀，省去了很多麻烦。

Cesium内部使用Cartesian3(笛卡尔坐标系)作为运算标准，它是一个以地球球心为原点的三维直角坐标系，同时兼容了经纬度等的转换。

于是我们迎来了第一个问题：如何控制人物在地球表面上行走？



test
